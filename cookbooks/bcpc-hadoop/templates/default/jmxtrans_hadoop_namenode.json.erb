{
    "servers": [
        {
            "port": "<%= node[:bcpc][:hadoop][:jmx][:port][:namenode] %>",
            "host": "<%= node[:bcpc][:management][:ip] %>",
            "queries": [
                {
                    "outputWriters": [
                        {
                            "@class": "com.googlecode.jmxtrans.model.output.GraphiteWriter",
                            "settings": {
                                "port": "2003",
                                "host": "<%= node[:bcpc][:management][:vip] %>"
                            }
                        }
                    ],
                    "obj": "Hadoop:name=JvmMetrics,service=NameNode",
                    "resultAlias": "nn_jvm_metrics",
                    "attr": [
                      "GcCount",
                      "GcCountCopy",
                      "GcCountMarkSweepCompact",
                      "GcTimeMillis",
                      "GcTimeMillisCopy",
                      "GcTimeMillisMarkSweepCompact",
                      "LogError",
                      "LogFatal",
                      "LogInfo",
                      "LogWarn",
                      "MemHeapCommittedM",
                      "MemHeapUsedM",
                      "MemMaxM",
                      "MemNonHeapCommittedM",
                      "MemNonHeapUsedM",
                      "ThreadsBlocked",
                      "ThreadsNew",
                      "ThreadsRunnable",
                      "ThreadsTerminated",
                      "ThreadsTimedWaiting",
                      "ThreadsWaiting"
                    ]
                },
                {
                    "outputWriters": [
                        {
                            "@class": "com.googlecode.jmxtrans.model.output.GraphiteWriter",
                            "settings": {
                                "port": "2003",
                                "host": "<%= node[:bcpc][:management][:vip] %>"
                            }
                        }
                    ],
                    "obj": "Hadoop:name=FSNamesystem,service=NameNode",
                    "resultAlias": "nn_fs_name_system",
                    "attr": [
                      "BlockCapacity",
                      "BlocksTotal",
                      "CapacityRemaining",
                      "CapacityRemainingGB",
                      "CapacityTotal",
                      "CapacityTotalGB",
                      "CapacityUsed",
                      "CapacityUsedGB",
                      "CapacityUsedNonDFS",
                      "CorruptBlocks",
                      "ExcessBlocks",
                      "ExpiredHeartbeats",
                      "FilesTotal",
                      "LastCheckpointTime",
                      "LastWrittenTransactionId",
                      "MillisSinceLastLoadedEdits",
                      "MissingBlocks",
                      "PendingDataNodeMessageCount",
                      "PendingDeletionBlocks",
                      "PendingReplicationBlocks",
                      "PostponedMisreplicatedBlocks",
                      "ScheduledReplicationBlocks",
                      "Snapshots",
                      "SnapshottableDirectories",
                      "StaleDataNodes",
                      "TotalFiles",
                      "TotalLoad",
                      "TransactionsSinceLastCheckpoint",
                      "TransactionsSinceLastLogRoll",
                      "UnderReplicatedBlocks",
                      "tag.HAState"
                    ]
                },
                {
                    "outputWriters": [
                        {
                            "@class": "com.googlecode.jmxtrans.model.output.GraphiteWriter",
                            "settings": {
                                "port": "2003",
                                "host": "<%= node[:bcpc][:management][:vip] %>"
                            }
                        }
                    ],
                    "obj": "Hadoop:name=FSNamesystemState,service=NameNode",
                    "resultAlias": "nn_fs_name_system_state",
                    "attr": [
                      "BlocksTotal",
                      "CapacityRemaining",
                      "CapacityTotal",
                      "CapacityUsed",
                      "FSState",
                      "FilesTotal",
                      "NumDeadDataNodes",
                      "NumLiveDataNodes",
                      "NumStaleDataNodes",
                      "PendingReplicationBlocks",
                      "ScheduledReplicationBlocks",
                      "TotalLoad",
                      "UnderReplicatedBlocks"
                    ]
                },
                {
                    "outputWriters": [
                        {
                            "@class": "com.googlecode.jmxtrans.model.output.GraphiteWriter",
                            "settings": {
                                "port": "2003",
                                "host": "<%= node[:bcpc][:management][:vip] %>"
                            }
                        }
                    ],
                    "obj": "Hadoop:name=NameNodeActivity,service=NameNode",
                    "resultAlias": "nn_name_node_activity",
                    "attr": [
                      "AddBlockOps",
                      "AllowSnapshotOps",
                      "BlockReportAvgTime",
                      "BlockReportNumOps",
                      "CreateFileOps",
                      "CreateSnapshotOps",
                      "CreateSymlinkOps",
                      "DeleteFileOps",
                      "DeleteSnapshotOps",
                      "DisallowSnapshotOps",
                      "FileInfoOps",
                      "FilesAppended",
                      "FilesCreated",
                      "FilesDeleted",
                      "FilesInGetListingOps",
                      "FilesRenamed",
                      "FsImageLoadTime",
                      "GetAdditionalDatanodeOps",
                      "GetBlockLocations",
                      "GetLinkTargetOps",
                      "GetListingOps",
                      "ListSnapshottableDirOps",
                      "RenameSnapshotOps",
                      "SafeModeTime",
                      "SnapshotDiffReportOps",
                      "SyncsAvgTime",
                      "SyncsNumOps",
                      "TransactionsAvgTime",
                      "TransactionsBatchedInSync",
                      "TransactionsNumOps",
                      "tag.Context",
                      "tag.Hostname",
                      "tag.ProcessName",
                      "tag.SessionId"
                    ]
                },
                {
                    "outputWriters": [
                        {
                            "@class": "com.googlecode.jmxtrans.model.output.GraphiteWriter",
                            "settings": {
                                "port": "2003",
                                "host": "<%= node[:bcpc][:management][:vip] %>"
                            }
                        }
                    ],
                    "obj": "Hadoop:name=NameNodeInfo,service=NameNode",
                    "resultAlias": "nn_name_node_info",
                    "attr": [
                      "BlockPoolId",
                      "BlockPoolUsedSpace",
                      "ClusterId",
                      "DeadNodes",
                      "DecomNodes",
                      "DistinctVersionCount",
                      "DistinctVersions",
                      "Free",
                      "JournalTransactionInfo",
                      "LiveNodes",
                      "NameDirStatuses",
                      "NonDfsUsedSpace",
                      "NumberOfMissingBlocks",
                      "PercentBlockPoolUsed",
                      "PercentRemaining",
                      "PercentUsed",
                      "Safemode",
                      "SoftwareVersion",
                      "Threads",
                      "Total",
                      "TotalBlocks",
                      "TotalFiles",
                      "UpgradeFinalized",
                      "Used",
                      "Version"
                    ]
                }
            ],
            "numQueryThreads": 2
        }
    ]
}
